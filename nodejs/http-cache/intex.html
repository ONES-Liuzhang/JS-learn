<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./client.js"></script>
    <title>浏览器缓存测试</title>
  </head>
  <body>
    <div>
      <input id="ipt" />
      <button id="btn">发送请求</button>
      <div>
        <h3>简单请求</h3>
        <p>请求方法</p>
        <ul>
          <li>GET</li>
          <li>POST</li>
          <li>HEAD</li>
        </ul>
        <p>头部字段</p>
        <ul>
          <li>Accept</li>
          <li>Accept-Language</li>
          <li>
            Content-Type
            <ul>
              <li>text/plain</li>
              <li>multipart/form-data</li>
              <li>application/x-www-form-urlencoded</li>
            </ul>
          </li>
        </ul>
      </div>
      <div>请求结果： <span id="txt"></span></div>
      <a href="http://localhost:3333">跳转</a>
    </div>

    <script>
      const ipt = document.getElementById("ipt");
      const btn = document.getElementById("btn");
      const txt = document.getElementById("txt");
      ipt.value = "http://localhost:3333";

      ipt.addEventListener("change", (e) => {
        console.log("change");
      });

      ipt.addEventListener("input", (e) => {
        console.log("input");
      });

      btn.addEventListener("click", () => {
        const url = ipt.value;
        console.log("url ", url);
        request(url).then((res) => {
          txt.innerHTML = res;
        });
      });
    </script>
  </body>
</html>
